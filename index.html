<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Relatório de retrabalhos e perdas 2D</title>

<style>
  body {
    font-family: Arial, sans-serif;
    background: #f4f4f4;
    padding: 16px;
    color: #000;
  }

  .card {
    background: #fff;
    padding: 16px;
    border-radius: 6px;
    margin-bottom: 16px;
  }

  h2 {
    display: flex;
    justify-content: space-between;
    font-size: 18px;
    margin-bottom: 12px;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 12px;
  }

  th, td {
    border: 1px solid #ccc;
    padding: 8px;
    font-size: 14px;
  }

  th {
    background: #eee;
    text-align: left;
  }

  input[type="number"] {
    width: 60px;
    text-align: center;
  }

  input[type="text"] {
    width: 100%;
  }

  .total-row td {
    font-weight: bold;
  }

  button {
    margin-top: 12px;
    padding: 8px 12px;
    cursor: pointer;
  }
</style>
</head>

<body>

<div class="card">
  <h2>
    <span><strong>Grendene – Impressão Digital</strong></span>
    <span>Relatório de retrabalhos e perdas 2D</span>
  </h2>

  <p><strong>Responsável:</strong> <input type="text"></p>
  <p><strong>Turno:</strong> 
    <select>
      <option>1º</option>
      <option selected>2º</option>
      <option>3º</option>
    </select>
  </p>
  <p><strong>Data:</strong> <input type="date"></p>
  <p><strong>Ramais:</strong> <input type="text" placeholder="Ex: 1, 3, 6"></p>

  <table id="tabela">
    <thead>
      <tr>
        <th>Motivo</th>
        <th>Qtde.</th>
        <th>Justificativa</th>
      </tr>
    </thead>
    <tbody>
      <!-- linhas -->
    </tbody>
    <tfoot>
      <tr class="total-row">
        <td>TOTAL</td>
        <td id="total">0</td>
        <td></td>
      </tr>
    </tfoot>
  </table>

  <button onclick="gerarRelatorio()">Gerar Relatório</button>
</div>

<script>
const motivos = [
  "Aplicação de base - imp",
  "Base - imp",
  "Falha de Impressão - imp",
  "Filete Branco - imp",
  "Logo sem definição - imp",
  "Manchas - imp",
  "Número Trocado - imp",
  "Perda de Injeção - imp",
  "Sem Impressão - imp",
  "Sujeira no inferior - imp",
  "Troca de Imagem - imp",
  "Lâminados falhas - imp"
];

const tbody = document.querySelector("#tabela tbody");

motivos.forEach(motivo => {
  const tr = document.createElement("tr");
  tr.innerHTML = `
    <td>${motivo}</td>
    <td><input type="number" min="0" oninput="calcularTotal()"></td>
    <td><input type="text"></td>
  `;
  tbody.appendChild(tr);
});

function calcularTotal() {
  let soma = 0;
  document.querySelectorAll('tbody input[type="number"]').forEach(i => {
    soma += Number(i.value) || 0;
  });
  document.getElementById("total").innerText = soma;
}

function gerarRelatorio() {
  document.querySelectorAll('tbody tr').forEach(tr => {
    const qtdInput = tr.children[1].querySelector("input");
    if (!qtdInput.value || Number(qtdInput.value) === 0) {
      qtdInput.value = "";
    }
  });
}
</script>

</body>
</html>
